Index: lib/api/consultation_api.dart
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import 'dart:async';\r\nimport 'dart:convert';\r\n\r\nimport 'package:http/http.dart' as http;\r\nimport 'package:ylc/keys/keys.dart';\r\nimport 'package:ylc/models/data_models/consultation_model.dart';\r\nimport 'package:ylc/models/enums/consultation_type.dart';\r\nimport 'package:ylc/utils/api_result.dart';\r\n\r\nclass ConsultationApi {\r\n  static String _endPoint = BaseUrl + 'consultations/';\r\n  static Future<ApiResult> createConsultation(ConsultationModel model) async {\r\n    try {\r\n      var result = await http.post(\r\n        _endPoint,\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          \"Accept\": \"application/json\"\r\n        },\r\n        body: json.encode(\r\n          {\r\n            \"userId\": model.userDetails.id,\r\n            \"advocateId\": model.advocateDetails.id,\r\n            \"startTime\": model.startTime,\r\n            \"endTime\": model.endTime,\r\n            \"isOver\": model.isOver,\r\n            \"participants\": model.participants,\r\n            \"type\": model.type.label,\r\n            \"paymentId\": model.paymentId,\r\n          },\r\n        ),\r\n      );\r\n      print(result.body);\r\n      if (result.statusCode == 201) {\r\n        return ApiResult.successWithNoMessage();\r\n      } else {\r\n        return ApiResult.failure('Something went wrong');\r\n      }\r\n    } catch (e) {\r\n      print(e);\r\n      return ApiResult.failure('Something went wrong');\r\n    }\r\n  }\r\n\r\n  static Future<List<ConsultationModel>> fetchAllConsultationsOfUser(\r\n      {String userId}) async {\r\n    try {\r\n      var result = await http.get(\r\n        _endPoint + userId,\r\n      );\r\n\r\n      if (result.statusCode == 200) {\r\n        return consultationModelListFromMap(result.body);\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (e) {\r\n      rethrow;\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static Future<ApiResult> changeConsultationTiming(String consultationId,\r\n      int startTime, int endTime, bool isEditedByUser) async {\r\n    try {\r\n      await YlcCollectionRef.consultationCollection.doc(consultationId).update({\r\n        \"startTime\": startTime,\r\n        \"endTime\": endTime,\r\n        isEditedByUser ? \"acceptedByUser\" : \"acceptedByAdvocate\": true,\r\n        isEditedByUser ? \"acceptedByAdvocate\" : \"acceptedByUser\": false,\r\n      });\r\n      return ApiResult.successWithNoMessage();\r\n    } catch (e) {\r\n      return ApiResult.failure(e);\r\n    }\r\n  }\r\n\r\n  static Future<ApiResult> acceptConsultationTiming(\r\n      String consultationId, int startTime, int endTime, bool isUser) async {\r\n    try {\r\n      await YlcCollectionRef.consultationCollection.doc(consultationId).update({\r\n        \"startTime\": startTime,\r\n        \"endTime\": endTime,\r\n        isUser ? \"acceptedByUser\" : \"acceptedByAdvocate\": true,\r\n      });\r\n      return ApiResult.successWithNoMessage();\r\n    } catch (e) {\r\n      return ApiResult.failure(e);\r\n    }\r\n  }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- lib/api/consultation_api.dart	(revision 588cae1d2bb86ac77336f6c64d15be5c9af701be)
+++ lib/api/consultation_api.dart	(date 1616133338412)
@@ -7,6 +7,8 @@
 import 'package:ylc/models/enums/consultation_type.dart';
 import 'package:ylc/utils/api_result.dart';
 
+import 'collection_ref.dart';
+
 class ConsultationApi {
   static String _endPoint = BaseUrl + 'consultations/';
   static Future<ApiResult> createConsultation(ConsultationModel model) async {
